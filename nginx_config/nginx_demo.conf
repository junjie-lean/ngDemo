
upstream localServers {
    
    #负载均衡根据权重配置
    server localhost:10001 weight=3;
    server localhost:10002 weight=7;
    server localhost:10003 backup;
}




server {
    listen 10010;

    location / {
        proxy_pass http://localServers;
    }
}

server {
    listen 10011;
    server_name localhost;


    location / {
        proxy_pass http://localhost:10001;
        root html;
        index index.html index.htm;
    }

}

server {
    listen 10012;
    server_name localhost;

    location / {
        proxy_pass http://localhost:10002;
        root html;
        index index.html index.htm;
    }
}